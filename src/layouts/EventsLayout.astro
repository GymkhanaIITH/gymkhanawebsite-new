---
import Layout from "./Layout.astro";
import ecell from "../images/icons/ecell.png"
import tinkererlogo from "../images/icons/tinkerers.jpeg"
import sunshinelogo from "../images/icons/sunshine.png"
import ebsblogo from "../images/icons/ebsb.png"
import elanlogo from "../images/elanlogo.png";
import milanlogo from "../images/milanlogo.png";
import Zozimuslogo from "../images/zozimus.png";
import tedexlogo from "../images/tedxlogo.png";
import diestalogo from "../images/diesta.png"
import adaylogo from "../images/Almuni-day-logo.jpg"
export interface Props {
  title: string;
  desc: string;
  imgUrl: string;
}

const { title, desc, imgUrl }: Props = Astro.props;

import generalCouncilIcon from "../images/icons/general_council.png";
---

<Layout title="Events">
  <div
    class="text-white w-full h-40 bg-[url('/images/events_hero.png')] bg-no-repeat bg-cover flex items-center z-30"
  >
    <h2 class="lg:text-5xl md:text-4xl text-3xl font-bold lg:ml-20">
      Events and Fests
    </h2>
  </div>
  <h2 class="lg:text-4xl md:text-3xl text-2xl font-semibold p-7 pb-0 text-white mt-40 lg:mx-40 mx-20">
    Fest and Major Events at IITH
  </h2>
  <div class="px-20 m-4 rounded-xl lg:rounded-[1.25rem] mt-8 z-10">
    <div
      class="council-menu hidden overflow-scroll md:overflow-hidden p-2 lg:grid z-20 lg:grid-cols-6 md:grid-cols-3 grid-cols-2 lg:m-16 m-2 gap-16"
    >
      <a href="/events/elan"
        ><button
          data-council="elan"
          class={`event-button  ${
            title === "Elan & nVision" ? "border-white border-2" : ""
          } p-2 bg-[#040404] flex flex-col gap-4 w-36 h-32 justify-center items-center rounded-xl text-white`}
        >
          <img src={elanlogo} class="w-16 h-16" />
          <span class="font-bold text-lg">Elan</span>
        </button>
      </a>
      <a href="/events/milan"
        ><button
          data-council="milan"
          class={`event-button  ${
            title === "Milan" ? "border-white border-2" : ""
          } p-2 bg-[#040404] flex flex-col gap-4 w-36 h-32 justify-center items-center rounded-xl text-white `}
          ><img src={milanlogo} class="w-16 h-16" />
          <span class="font-bold text-lg">Milan</span></button
        >
      </a>
      <a href="/events/zozimus"
        ><button
          data-council="zozimus"
          class={`event-button ${
            title === "Zozimus" ? "border-white border-2" : ""
          } p-2 bg-[#040404] flex flex-col gap-4 w-36 h-32 justify-center items-center rounded-xl text-white `}
          ><img src={Zozimuslogo} class="w-16 h-16" />
          <span class="font-bold text-lg">Zozimus</span></button
        >
      </a>
      <a href="/events/tedtalks"
        ><button
          data-council="tedtalks"
          class={`event-button  ${
            title === "Ted-Talks" ? "border-white border-2" : ""
          } p-2 bg-[#040404] flex flex-col gap-4 w-36 h-32 justify-center items-center rounded-xl text-white `}
          ><img src={tedexlogo} class="w-16 h-16" />
          <span class="font-bold text-lg">TedX</span></button
        >
      </a>
      <a href="/events/diesta"
        ><button
          data-council="diesta"
          class={`event-button  ${
            title === "Diesta" ? "border-white border-2" : ""
          } p-2 bg-[#040404] flex flex-col gap-4 w-36 h-32 justify-center items-center rounded-xl text-white `}
          ><img src={diestalogo} class="w-16 h-16" />
          <span class="font-bold text-lg">Diesta</span></button
        >
      </a>
      <a href="/events/alumniday"
        ><button
          data-council="alumniday"
          class={`event-button ${
            title === "Alumni Day" ? "border-white border-2" : ""
          }  p-2 bg-[#040404] flex flex-col gap-4 w-36 h-32 justify-center items-center rounded-xl text-white `}
          ><img src={adaylogo} class="w-16 h-16" />
          <span class="font-bold text-lg">Alumni Day</span></button
        >
      </a>
      <a href="/events/eSummit"
        ><button
          data-council="eSummit"
          class={`event-button ${
            title === "E-Summit" ? "border-white border-2" : ""
          }  p-2 bg-[#040404] flex flex-col gap-4 w-36 h-32 justify-center items-center rounded-xl text-white `}
          ><img src={ecell} class="w-16 h-16" />
          <span class="font-bold text-lg">E-Summit</span></button
        >
      </a>
    </div>

    <!-- For mobile -->
    <select
      name="event"
      class="text-md lg:hidden p-3 bg-white text-p overflow-hidden rounded-md dropdown"
    >
      <option value="general">Elan</option>
      <option value="cultural">Milan</option>
      <option value="media">Zozimus</option>
      <option value="scitech">Ted Talks</option>
      <option value="sports">Diesta</option>
      <option value="mess">Alumni Day</option>
    </select>
  </div>
  <section class="text-white lg:mx-40 m-20">
    <div class="flex items-center justify-between">
      <h2 class="lg:text-4xl md:text-3xl text-2xl font-semibold p-7">
        {title}
      </h2>
      <div></div>

    </div>
    <hr
      class="my-5"
      style="height:4px;border-width:0;color:#B74224;background-color:#B74224"
    />
    <div
      class="lg:col-start-1 lg:col-span-3 lg:row-start-2 lg:px-[4rem] lg:mt-10"
    >
      <p class="council-desc lg:text-[1.125rem]">
        {desc}
      </p>
    </div>
    <div
      class="p-6 px-0 pb-[4rem] pt-0 grid grid-cols-1 justify-items-center lg:px-[2.5rem] lg:justify-items-start lg:first-letter"
    >
      <slot />
    </div>
  </section>

  <!-- <div
    class="p-6 pt-0 grid grid-cols-1 justify-items-center lg:justify-items-start lg:grid-cols-5 lg:mt-[2rem] lg:mx-40"
  >
    <div class="lg:col-start-1 lg:col-end-6">
      <h2
        class="title text-white text-center lg:text-left font-bold text-4xl pt-3 lg:px-[4rem] lg:pt-[2rem] lg:text-5xl lg:font-bold"
      >
        {title} Council
      </h2>
    </div>
    <div
      class="lg:col-start-4 lg:col-span-2 lg:w-full lg:justify-center lg:flex lg:flex-col"
    >
      <img
        src={imgUrl}
        alt="academic"
        class="council-img h-32 py-3 lg:h-[13rem] object-contain"
      />
    </div>

    <div
      class="lg:col-start-1 lg:col-span-3 lg:row-start-2 lg:px-[4rem] lg:mt-5"
    >
      <p class="council-desc lg:text-[1.125rem]">
        {desc}
      </p>
    </div>
  </div>
  <div
    class="p-6 px-0 pb-[4rem] pt-0 grid grid-cols-1 justify-items-center lg:px-[5.5rem] lg:justify-items-start lg:first-letter lg:mx-40"
  >
    <slot />
  </div> -->
</Layout>

<script is:inline defer="true">
  let options = document.querySelector("select");
  window.addEventListener("load", () => {
    newvalue = window.location.href.split("/");
    if (newvalue[newvalue.length - 1] === "") {
      newvalue.pop();
    }
    newvalue = newvalue[newvalue.length - 1];
    options.value = newvalue;
  });
  options.addEventListener("change", () => {
    console.log(options.value);
    url = new URL(window.location.href);

    new_url = url.toString().split("/");
    if (new_url[new_url.length - 1] === "") {
      new_url.pop();
    }
    new_url.pop();
    new_url.push(options.value);
    new_url = new_url.join("/");

    window.location.href = new_url;
  });
</script>
